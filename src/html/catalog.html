<section class="catalog container ">
    <h2 class="page-title">КАТАЛОГ</h2>
    <div class="catalog-grid">
        <a href="" class="catalog-grid__item catalog-grid__item_1_2 catalog-card catalog-card_inline" style="--bg: #A1A07B;">
            <h4 class="catalog-card__title">
                Кухни
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-grid__item_2_2 catalog-card">
            <h4 class="catalog-card__title">
                Комоды
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-2.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Стеллажи
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-3.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Консоли
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-4.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Тумбы под ТВ
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-5.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Прикроватные
                тумбы 
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-6.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Полки
                и полкодержатели
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-7.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-card">
            <h4 class="catalog-card__title">
                Обувницы
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/1/product-8.png" alt="">
            </div>
        </a>
    </div>
</section>

<section class="catalog container ">
    <h2 class="section-title">Шкафы</h2>
    <div class="catalog-grid">
        <a href="" class="catalog-grid__item catalog-grid__item_1_2 catalog-card catalog-card_inline" style="--bg: #A5A5A5;" data-marker-text="NEW!" data-marker-bg="#7FADA0">
            <h4 class="catalog-card__title">
                Шкафы для одежды
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/2/product-1.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-grid__item_1_2 catalog-card catalog-card_inline" style="--bg: #A5A5A5;">
            <h4 class="catalog-card__title">
                Антресоли
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/2/product-1.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-grid__item_1_2 catalog-card catalog-card_inline" style="--bg: #A5A5A5;">
            <h4 class="catalog-card__title">
                Шкафы-витрины
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/2/product-3.png" alt="">
            </div>
        </a>
        <a href="" class="catalog-grid__item catalog-grid__item_1_2 catalog-card catalog-card_inline" style="--bg: #A5A5A5;">
            <h4 class="catalog-card__title">
                Шкафы для хранения
                навесные и напольные
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/2/product-4.png" alt="">
            </div>
        </a>

    </div>
</section>

<section class="catalog container ">
    <h2 class="section-title">Коллекции</h2>
    <div class="catalog-slider draggable">
        <a href="#" class="catalog-card catalog-card_inline" style="--bg: #827E94;" data-marker-text="SALE" data-marker-bg="#FFB835">
            <h4 class="catalog-card__title">
                Аврора
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>
        <a href="#" class="catalog-card catalog-card_inline" style="--bg: #827E94;">
            <h4 class="catalog-card__title">
                Паола
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>
        <a href="#" class="catalog-card catalog-card_inline" style="--bg: #827E94;">
            <h4 class="catalog-card__title">
                Канзас
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>
        <a href="#" class="catalog-card catalog-card_inline" style="--bg: #827E94;">
            <h4 class="catalog-card__title">
                Мадейра
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>
        <a href="#" class="catalog-card catalog-card_inline" style="--bg: #827E94;">
            <h4 class="catalog-card__title">
                Корфу
            </h4>
            <div class="catalog-card__img">
                <img src="@img/catalog/inline/product-1.png" alt="">
            </div>
        </a>

    </div>
</section>

<script>

    let mouseDown = false;
    let isDragging = false;
    let startX, scrollLeft;
    const slider = document.querySelector('.draggable');

    const startDragging = (e) => {
        mouseDown = true;
        isDragging = false; // сбрасываем флаг перетаскивания
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
    }

    const stopDragging = (e) => {
        mouseDown = false;
    }

    const move = (e) => {
        e.preventDefault();
        if (!mouseDown) { return; }
        
        const x = e.pageX - slider.offsetLeft;
        const scroll = x - startX;
        slider.scrollLeft = scrollLeft - scroll;
        
        if (Math.abs(scroll) > 5) { // если движение больше 5px, считаем, что началось перетаскивание
            isDragging = true;
        }
    }

    // Предотвращаем переход по ссылке, если было перетаскивание
    slider.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
            if (isDragging) {
                e.preventDefault(); // отменяем переход по ссылке
            }
        });
    });

    // Добавляем обработчики событий
    slider.addEventListener('mousemove', move, false);
    slider.addEventListener('mousedown', startDragging, false);
    slider.addEventListener('mouseup', stopDragging, false);
    slider.addEventListener('mouseleave', stopDragging, false);

</script>